Started GET "/" for ::1 at 2025-09-09 17:06:40 -0300
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/index.html.erb:161
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/index.html.erb:162
  Rendered messages/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 436.9ms | GC: 25.4ms)
Completed 200 OK in 508ms (Views: 444.4ms | ActiveRecord: 2.4ms (2 queries, 0 cached) | GC: 25.4ms)


Started GET "/cable" for ::1 at 2025-09-09 17:06:41 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:06:41 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:06:41 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-09-09 17:06:43 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/index.html.erb:161
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/index.html.erb:162
  Rendered messages/index.html.erb within layouts/application (Duration: 17.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:06:43 -0300
MessagesChannel stopped streaming from messages
Started GET "/cable" for ::1 at 2025-09-09 17:06:43 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:06:43 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:06:43 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
MessagesChannel is transmitting the subscription confirmation
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
MessagesChannel is streaming from messages
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-09 20:12:28.090730', '2025-09-09 20:12:28.090733') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2025-09-09 17:13:37 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:13:37 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:13:37 -0300
MessagesChannel stopped streaming from messages
Started GET "/" for ::1 at 2025-09-09 17:13:39 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 54.8ms | GC: 30.6ms)
Completed 200 OK in 77ms (Views: 58.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 31.2ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:13:40 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/chat" for ::1 at 2025-09-09 17:13:43 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 5.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.4ms)
Completed 200 OK in 32ms (Views: 6.2ms | ActiveRecord: 4.8ms (2 queries, 0 cached) | GC: 1.5ms)


Started GET "/cable" for ::1 at 2025-09-09 17:13:43 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:13:43 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:13:43 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
MessagesChannel is transmitting the subscription confirmation
  Rendered pwa/manifest.json.erb (Duration: 2.0ms | GC: 0.2ms)
MessagesChannel is streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan"}
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


UsersChannel is streaming from users
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Jonathan"} (via streamed from users)
TypingChannel#start_typing({"username"=>"Jonathan"})
[ActionCable] Broadcasting to typing: {:action=>"start_typing", :username=>"Jonathan"}
TypingChannel transmitting {"action"=>"start_typing", "username"=>"Jonathan"} (via streamed from typing)
MessagesChannel#speak({"message"=>"testing", "username"=>"Jonathan"})
TypingChannel#stop_typing({"username"=>"Jonathan"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Jonathan"}
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mMessage Create (1.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "testing"], ["username", "Jonathan"], ["created_at", "2025-09-09 20:13:48.059134"], ["updated_at", "2025-09-09 20:13:48.059134"]]
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan"} (via streamed from typing)
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to messages: {:id=>12, :content=>"testing", :username=>"Jonathan", :created_at=>"08:13 PM"}
MessagesChannel transmitting {"id"=>12, "content"=>"testing", "username"=>"Jonathan", "created_at"=>"08:13 PM"} (via streamed from messages)
Started GET "/" for ::1 at 2025-09-09 17:13:53 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:13:54 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:13:56 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:13:56 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:13:56 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:13:56 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
MessagesChannel is transmitting the subscription confirmation
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
  Rendered pwa/manifest.json.erb (Duration: 0.7ms | GC: 0.0ms)
MessagesChannel is streaming from messages
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


UsersChannel is streaming from users
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
Started GET "/chat" for ::1 at 2025-09-09 17:13:59 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:13:59 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
Started GET "/cable" for ::1 at 2025-09-09 17:13:59 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:13:59 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:00 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
Processing by Rails::PwaController#manifest as JSON
UsersChannel is transmitting the subscription confirmation
UsersChannel is streaming from users
  Rendering pwa/manifest.json.erb
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
TypingChannel is transmitting the subscription confirmation
  Rendered pwa/manifest.json.erb (Duration: 0.6ms | GC: 0.0ms)
TypingChannel is streaming from typing
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:14:04 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:04 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Jonathan"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Jonathan"}
UsersChannel transmitting {"action"=>"user_left", "username"=>"Jonathan"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Jonathan"} (via streamed from users)
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan"} (via streamed from typing)
Started GET "/cable" for ::1 at 2025-09-09 17:14:04 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:14:04 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:04 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
  Rendered pwa/manifest.json.erb (Duration: 0.7ms | GC: 0.0ms)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
UsersChannel is streaming from users
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
Started GET "/chat" for ::1 at 2025-09-09 17:14:07 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:07 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
Started GET "/cable" for ::1 at 2025-09-09 17:14:07 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:14:07 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:07 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
MessagesChannel is transmitting the subscription confirmation
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
MessagesChannel is streaming from messages
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
UsersChannel is streaming from users
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
TypingChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
TypingChannel is streaming from typing
Started GET "/chat" for ::1 at 2025-09-09 17:14:08 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:08 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
Started GET "/cable" for ::1 at 2025-09-09 17:14:08 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:14:08 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:08 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


UsersChannel is streaming from users
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
Started GET "/" for ::1 at 2025-09-09 17:14:17 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:14:21 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:14:21 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:21 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"JOnathan"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is streaming from users
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"JOnathan"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"JOnathan"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"JOnathan"} (via streamed from users)
Started GET "/chat" for ::1 at 2025-09-09 17:14:25 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:25 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
Started GET "/cable" for ::1 at 2025-09-09 17:14:25 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:14:25 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:25 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel is streaming from users
TypingChannel#start_typing({"username"=>"JOnathan"})
[ActionCable] Broadcasting to typing: {:action=>"start_typing", :username=>"JOnathan"}
TypingChannel transmitting {"action"=>"start_typing", "username"=>"JOnathan"} (via streamed from typing)
TypingChannel transmitting {"action"=>"start_typing", "username"=>"JOnathan"} (via streamed from typing)
TypingChannel transmitting {"action"=>"start_typing", "username"=>"JOnathan"} (via streamed from typing)
TypingChannel#stop_typing({"username"=>"JOnathan"})
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"JOnathan"}
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"JOnathan"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"JOnathan"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"JOnathan"} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
MessagesChannel#speak({"message"=>"OlÃ¡", "username"=>"JOnathan"})
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mMessage Create (3.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "OlÃ¡"], ["username", "JOnathan"], ["created_at", "2025-09-09 20:14:39.899251"], ["updated_at", "2025-09-09 20:14:39.899251"]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to messages: {:id=>13, :content=>"OlÃ¡", :username=>"JOnathan", :created_at=>"08:14 PM"}
MessagesChannel transmitting {"id"=>13, "content"=>"OlÃ¡", "username"=>"JOnathan", "created_at"=>"08:14 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>13, "content"=>"OlÃ¡", "username"=>"JOnathan", "created_at"=>"08:14 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>13, "content"=>"OlÃ¡", "username"=>"JOnathan", "created_at"=>"08:14 PM"} (via streamed from messages)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:14:49 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
UsersChannel#update_activity({"username"=>"JOnathan"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"JOnathan"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"JOnathan"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"JOnathan"} (via streamed from users)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:15:01 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel#start_typing({"username"=>"JOnathan"})
[ActionCable] Broadcasting to typing: {:action=>"start_typing", :username=>"JOnathan"}
TypingChannel transmitting {"action"=>"start_typing", "username"=>"JOnathan"} (via streamed from typing)
MessagesChannel#speak({"message"=>"Ola", "username"=>"JOnathan"})
TypingChannel#stop_typing({"username"=>"JOnathan"})
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"JOnathan"}
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mMessage Create (3.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "Ola"], ["username", "JOnathan"], ["created_at", "2025-09-09 20:15:04.604921"], ["updated_at", "2025-09-09 20:15:04.604921"]]
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"JOnathan"} (via streamed from typing)
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to messages: {:id=>14, :content=>"Ola", :username=>"JOnathan", :created_at=>"08:15 PM"}
MessagesChannel transmitting {"id"=>14, "content"=>"Ola", "username"=>"JOnathan", "created_at"=>"08:15 PM"} (via streamed from messages)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:15:06 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"JOnathan"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"JOnathan"}
TypingChannel stopped streaming from typing
UsersChannel transmitting {"action"=>"user_left", "username"=>"JOnathan"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"JOnathan"} (via streamed from typing)
Started GET "/messages" for ::1 at 2025-09-09 17:15:07 -0300
Started GET "/typing" for ::1 at 2025-09-09 17:15:07 -0300
Started GET "/users" for ::1 at 2025-09-09 17:15:07 -0300
Processing by MessagesController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/activity" for ::1 at 2025-09-09 17:15:07 -0300
  
ActionController::RoutingError (No route matches [GET] "/typing"):
  
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
  
ActionController::RoutingError (No route matches [POST] "/users/activity"):
  
Started POST "/users/activity" for ::1 at 2025-09-09 17:15:09 -0300
Started GET "/messages" for ::1 at 2025-09-09 17:15:09 -0300
Started GET "/users" for ::1 at 2025-09-09 17:15:09 -0300
  
ActionController::RoutingError (No route matches [POST] "/users/activity"):
  
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Processing by MessagesController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.4ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/typing" for ::1 at 2025-09-09 17:15:09 -0300
  
ActionController::RoutingError (No route matches [GET] "/typing"):
  
Started GET "/" for ::1 at 2025-09-09 17:15:11 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/chat" for ::1 at 2025-09-09 17:15:15 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 6.8ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 1.6ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 1.6ms)


Started GET "/cable" for ::1 at 2025-09-09 17:15:15 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:15:15 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan Incognito"}
UsersChannel is streaming from users
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is transmitting the subscription confirmation
TypingChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Jonathan Incognito"} (via streamed from users)
TypingChannel is streaming from typing
Started GET "/" for ::1 at 2025-09-09 17:15:21 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:15:21 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:15:23 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:246
  Rendered messages/chat.html.erb within layouts/application (Duration: 6.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.5ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/cable" for ::1 at 2025-09-09 17:15:23 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:15:23 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:15:23 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel is streaming from users
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
Started GET "/manifest.json" for ::1 at 2025-09-09 17:15:30 -0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-09-09 17:15:30 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-09 20:17:01.190590', '2025-09-09 20:17:01.190592') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMessages (20250909105755)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text NOT NULL, "username" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_messages_on_created_at" ON "messages" ("created_at")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250909105755') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2025-09-09 17:17:15 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:17:15 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is transmitting the subscription confirmation
UsersChannel is streaming from users
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
Started GET "/chat" for ::1 at 2025-09-09 17:17:17 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  Rendered messages/chat.html.erb within layouts/application (Duration: 31.3ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | GC: 1.7ms)
Completed 200 OK in 108ms (Views: 40.0ms | ActiveRecord: 6.0ms (1 query, 0 cached) | GC: 30.4ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:17:17 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-09-09 17:17:17 -0300
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/cable" for ::1 at 2025-09-09 17:17:17 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:17:17 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:17:17 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is streaming from users
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started GET "/" for ::1 at 2025-09-09 17:17:20 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.2ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-09-09 17:17:20 -0300
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:17:20 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/manifest.json" for ::1 at 2025-09-09 17:17:21 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:17:38 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:17:38 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan Incognito"}
UsersChannel is streaming from users
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Jonathan Incognito"} (via streamed from users)
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
Started GET "/chat" for ::1 at 2025-09-09 17:18:18 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.6ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:18:18 -0300
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Jonathan Incognito"}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Jonathan Incognito"} (via streamed from users)
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Jonathan Incognito"}
TypingChannel stopped streaming from typing
MessagesChannel stopped streaming from messages
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan Incognito"} (via streamed from typing)
Started GET "/cable" for ::1 at 2025-09-09 17:18:18 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:18:18 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan Incognito"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is streaming from users
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Jonathan Incognito"} (via streamed from users)
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
Started GET "/chat" for ::1 at 2025-09-09 17:18:20 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  Rendered messages/chat.html.erb within layouts/application (Duration: 6.0ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 1.6ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.6ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:18:20 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Jonathan Incognito"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_left", "username"=>"Jonathan Incognito"} (via streamed from users)
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan Incognito"} (via streamed from typing)
Started GET "/cable" for ::1 at 2025-09-09 17:18:20 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:18:20 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan Incognito"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel is streaming from users
Started GET "/favicon.ico" for ::1 at 2025-09-09 17:18:25 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/manifest.json" for ::1 at 2025-09-09 17:18:27 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-09-09 17:18:27 -0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-09-09 17:18:34 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.8ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:18:34 -0300
MessagesChannel stopped streaming from messages
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-09-09 17:18:34 -0300
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Jonathan Incognito"}
TypingChannel stopped streaming from typing
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Jonathan Incognito"}
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan Incognito"} (via streamed from typing)
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Jonathan Incognito"} (via streamed from users)
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/chat" for ::1 at 2025-09-09 17:18:49 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  Rendered messages/chat.html.erb within layouts/application (Duration: 8.6ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 3.2ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 3.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-09-09 17:18:49 -0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/cable" for ::1 at 2025-09-09 17:18:49 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:18:50 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan Incognito"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is streaming from users
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Jonathan Incognito"} (via streamed from users)
Started GET "/chat" for ::1 at 2025-09-09 17:18:55 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:245
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.5ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-09-09 17:18:55 -0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/cable" for ::1 at 2025-09-09 17:18:55 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:18:55 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:18:55 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is streaming from users
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
TypingChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
TypingChannel is streaming from typing
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


TypingChannel#start_typing({"username"=>"Fabricia"})
[ActionCable] Broadcasting to typing: {:action=>"start_typing", :username=>"Fabricia"}
TypingChannel transmitting {"action"=>"start_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"start_typing", "username"=>"Fabricia"} (via streamed from typing)
MessagesChannel#speak({"message"=>"oie", "username"=>"Fabricia"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
TypingChannel#stop_typing({"username"=>"Fabricia"})
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
  [1m[36mMessage Create (3.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "oie"], ["username", "Fabricia"], ["created_at", "2025-09-09 20:19:17.659385"], ["updated_at", "2025-09-09 20:19:17.659385"]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to messages: {:id=>1, :content=>"oie", :username=>"Fabricia", :created_at=>"08:19 PM"}
MessagesChannel transmitting {"id"=>1, "content"=>"oie", "username"=>"Fabricia", "created_at"=>"08:19 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>1, "content"=>"oie", "username"=>"Fabricia", "created_at"=>"08:19 PM"} (via streamed from messages)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
TypingChannel#start_typing({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to typing: {:action=>"start_typing", :username=>"Jonathan Incognito"}
TypingChannel transmitting {"action"=>"start_typing", "username"=>"Jonathan Incognito"} (via streamed from typing)
TypingChannel transmitting {"action"=>"start_typing", "username"=>"Jonathan Incognito"} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
MessagesChannel#speak({"message"=>"Oi Fabricia", "username"=>"Jonathan Incognito"})
TypingChannel#stop_typing({"username"=>"Jonathan Incognito"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Jonathan Incognito"}
  [1m[36mMessage Create (1.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "Oi Fabricia"], ["username", "Jonathan Incognito"], ["created_at", "2025-09-09 20:19:28.104797"], ["updated_at", "2025-09-09 20:19:28.104797"]]
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan Incognito"} (via streamed from typing)
  â†³ app/channels/messages_channel.rb:11:in `speak'
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan Incognito"} (via streamed from typing)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to messages: {:id=>2, :content=>"Oi Fabricia", :username=>"Jonathan Incognito", :created_at=>"08:19 PM"}
MessagesChannel transmitting {"id"=>2, "content"=>"Oi Fabricia", "username"=>"Jonathan Incognito", "created_at"=>"08:19 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>2, "content"=>"Oi Fabricia", "username"=>"Jonathan Incognito", "created_at"=>"08:19 PM"} (via streamed from messages)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:20:50 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Incognito"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Incognito"} (via streamed from users)
Started GET "/" for ::1 at 2025-09-09 17:25:06 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 6.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.1ms)
Completed 200 OK in 41ms (Views: 13.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/chat" for ::1 at 2025-09-09 17:25:11 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.2ms)
Completed 200 OK in 54ms (Views: 2.9ms | ActiveRecord: 7.2ms (2 queries, 0 cached) | GC: 29.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:25:11 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:25:11 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan Inco"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel is streaming from users
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:25:22 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Jonathan Inco"}
UsersChannel stopped streaming from users
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Jonathan Inco"}
UsersChannel transmitting {"action"=>"user_left", "username"=>"Jonathan Inco"} (via streamed from users)
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Jonathan Inco"} (via streamed from typing)
Started GET "/chat" for ::1 at 2025-09-09 17:25:22 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 4.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.4ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/cable" for ::1 at 2025-09-09 17:25:22 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:25:22 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Jonathan Inco"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is streaming from users
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Jonathan Inco"} (via streamed from users)
Started GET "/" for ::1 at 2025-09-09 17:25:29 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:25:29 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:25:30 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/cable" for ::1 at 2025-09-09 17:25:30 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:25:30 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:25:30 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
  Rendering pwa/manifest.json.erb
UsersChannel is streaming from users
  Rendered pwa/manifest.json.erb (Duration: 0.4ms | GC: 0.0ms)
MessagesChannel is transmitting the subscription confirmation
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


MessagesChannel is streaming from messages
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:25:40 -0300
MessagesChannel stopped streaming from messages
[ActionCable] Broadcasting to users: {:action=>"user_left", :username=>"Fabricia"}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_left", "username"=>"Fabricia"} (via streamed from users)
[ActionCable] Broadcasting to typing: {:action=>"stop_typing", :username=>"Fabricia"}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
TypingChannel transmitting {"action"=>"stop_typing", "username"=>"Fabricia"} (via streamed from typing)
Started GET "/chat" for ::1 at 2025-09-09 17:25:40 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:25:40 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:25:40 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:25:40 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[ActionCable] Broadcasting to users: {:action=>"user_joined", :username=>"Fabricia"}
Processing by Rails::PwaController#manifest as JSON
UsersChannel is streaming from users
  Rendering pwa/manifest.json.erb
MessagesChannel is transmitting the subscription confirmation
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
MessagesChannel is streaming from messages
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_joined", "username"=>"Fabricia"} (via streamed from users)
TypingChannel is transmitting the subscription confirmation
TypingChannel is streaming from typing
UsersChannel#update_activity({"username"=>"Jonathan Inco"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Inco"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan Inco"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Inco"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan Inco"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Inco"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250909202649)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "last_seen_at" datetime(6), "is_typing" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_last_seen_at" ON "users" ("last_seen_at")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_is_typing" ON "users" ("is_typing")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250909202649') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
UsersChannel#update_activity({"username"=>"Jonathan Inco"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Inco"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan Inco"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Jonathan Inco"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Jonathan Inco"} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
[ActionCable] Broadcasting to users: {:action=>"user_activity", :username=>"Fabricia"}
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
UsersChannel transmitting {"action"=>"user_activity", "username"=>"Fabricia"} (via streamed from users)
Started GET "/" for ::1 at 2025-09-09 17:29:49 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.2ms)
Completed 200 OK in 25ms (Views: 8.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/chat" for ::1 at 2025-09-09 17:29:53 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 12.1ms | GC: 8.7ms)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | GC: 8.7ms)
Completed 200 OK in 40ms (Views: 12.2ms | ActiveRecord: 4.4ms (2 queries, 0 cached) | GC: 15.2ms)


Started GET "/cable" for ::1 at 2025-09-09 17:29:53 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:29:53 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_active'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_active'
TypingChannel is streaming from typing
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:11:in `mark_user_active'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "last_seen_at", "is_typing", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Jonathan Incognito"], ["last_seen_at", nil], ["is_typing", 0], ["created_at", "2025-09-09 20:29:53.608783"], ["updated_at", "2025-09-09 20:29:53.608783"]]
  â†³ app/models/user.rb:11:in `mark_user_active'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_active'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "last_seen_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_seen_at", "2025-09-09 20:29:53.610785"], ["updated_at", "2025-09-09 20:29:53.611633"], ["id", 1]]
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE (last_seen_at > ?) ORDER BY "users"."username" ASC[0m  [[nil, "2025-09-09 20:29:23.612612"]]
  â†³ app/models/user.rb:30:in `get_active_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jonathan Incognito"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan Incognito"]} (via streamed from users)
Started GET "/" for ::1 at 2025-09-09 17:30:02 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:30:03 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:30:04 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.2ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/cable" for ::1 at 2025-09-09 17:30:05 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:30:05 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:30:05 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_active'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersChannel is streaming from users
  â†³ app/models/user.rb:11:in `mark_user_active'
TypingChannel is transmitting the subscription confirmation
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
TypingChannel is streaming from typing
  â†³ app/models/user.rb:11:in `mark_user_active'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "last_seen_at", "is_typing", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Fabricia"], ["last_seen_at", nil], ["is_typing", 0], ["created_at", "2025-09-09 20:30:05.091192"], ["updated_at", "2025-09-09 20:30:05.091192"]]
  â†³ app/models/user.rb:11:in `mark_user_active'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_active'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "last_seen_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_seen_at", "2025-09-09 20:30:05.092789"], ["updated_at", "2025-09-09 20:30:05.092923"], ["id", 2]]
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE (last_seen_at > ?) ORDER BY "users"."username" ASC[0m  [[nil, "2025-09-09 20:29:35.094311"]]
  â†³ app/models/user.rb:30:in `get_active_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan Incognito"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
TypingChannel#start_typing({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "last_seen_at" = ?, "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_seen_at", "2025-09-09 20:30:13.788739"], ["is_typing", 1], ["updated_at", "2025-09-09 20:30:13.789922"], ["id", 1]]
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mUser Pluck (1.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE (last_seen_at > ?) AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [[nil, "2025-09-09 20:29:43.796526"], ["is_typing", 1]]
  â†³ app/models/user.rb:34:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan Incognito"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"Oi fabs", "username"=>"Jonathan Incognito"})
TypingChannel#stop_typing({"username"=>"Jonathan Incognito"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  [1m[36mMessage Create (7.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "Oi fabs"], ["username", "Jonathan Incognito"], ["created_at", "2025-09-09 20:30:14.751692"], ["updated_at", "2025-09-09 20:30:14.751692"]]
  â†³ app/models/user.rb:17:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:18:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "last_seen_at" = ?, "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_seen_at", "2025-09-09 20:30:14.762001"], ["is_typing", 0], ["updated_at", "2025-09-09 20:30:14.762418"], ["id", 1]]
[ActionCable] Broadcasting to messages: {:id=>3, :content=>"Oi fabs", :username=>"Jonathan Incognito", :created_at=>"08:30 PM"}
  â†³ app/models/user.rb:18:in `mark_user_typing'
MessagesChannel transmitting {"id"=>3, "content"=>"Oi fabs", "username"=>"Jonathan Incognito", "created_at"=>"08:30 PM"} (via streamed from messages)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
MessagesChannel transmitting {"id"=>3, "content"=>"Oi fabs", "username"=>"Jonathan Incognito", "created_at"=>"08:30 PM"} (via streamed from messages)
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE (last_seen_at > ?) AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [[nil, "2025-09-09 20:29:44.768394"], ["is_typing", 1]]
  â†³ app/models/user.rb:34:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Fabricia"})
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_typing'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "last_seen_at" = ?, "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_seen_at", "2025-09-09 20:30:19.192835"], ["is_typing", 1], ["updated_at", "2025-09-09 20:30:19.193891"], ["id", 2]]
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE (last_seen_at > ?) AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [[nil, "2025-09-09 20:29:49.197894"], ["is_typing", 1]]
  â†³ app/models/user.rb:34:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Fabricia"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"Oi querido XD", "username"=>"Fabricia"})
TypingChannel#stop_typing({"username"=>"Fabricia"})
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mMessage Create (3.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "Oi querido XD"], ["username", "Fabricia"], ["created_at", "2025-09-09 20:30:20.541344"], ["updated_at", "2025-09-09 20:30:20.541344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mUser Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "last_seen_at" = ?, "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_seen_at", "2025-09-09 20:30:20.546824"], ["is_typing", 0], ["updated_at", "2025-09-09 20:30:20.547361"], ["id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] Broadcasting to messages: {:id=>4, :content=>"Oi querido XD", :username=>"Fabricia", :created_at=>"08:30 PM"}
  â†³ app/models/user.rb:18:in `mark_user_typing'
  [1m[36mUser Pluck (8.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE (last_seen_at > ?) AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [[nil, "2025-09-09 20:29:50.562042"], ["is_typing", 1]]
MessagesChannel transmitting {"id"=>4, "content"=>"Oi querido XD", "username"=>"Fabricia", "created_at"=>"08:30 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>4, "content"=>"Oi querido XD", "username"=>"Fabricia", "created_at"=>"08:30 PM"} (via streamed from messages)
  â†³ app/models/user.rb:34:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_active'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "last_seen_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_seen_at", "2025-09-09 20:30:23.564961"], ["updated_at", "2025-09-09 20:30:23.565663"], ["id", 1]]
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_active'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE (last_seen_at > ?) ORDER BY "users"."username" ASC[0m  [[nil, "2025-09-09 20:29:53.570133"]]
  â†³ app/models/user.rb:30:in `get_active_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan Incognito"]}
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeUsersToOnlineOffline (20250909203537)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDROP INDEX "index_users_on_last_seen_at"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "last_seen_at" datetime(6), "is_typing" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_is_typing" ON "ausers" ("is_typing")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_username" ON "ausers" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","username","last_seen_at","is_typing","created_at","updated_at")
                     SELECT "id","username","last_seen_at","is_typing","created_at","updated_at" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "is_typing" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_is_typing" ON "users" ("is_typing")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "users" ("id","username","is_typing","created_at","updated_at")
                     SELECT "id","username","is_typing","created_at","updated_at" FROM "ausers"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "is_online" boolean DEFAULT 0[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_is_online" ON "users" ("is_online")[0m
  [1m[36mUser Update All (0.0ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?[0m  [["is_online", 0]]
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250909203537') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2025-09-09 17:38:36 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:38:36 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersChannel is streaming from users
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:38:36.953943"], ["is_online", 1], ["id", 2]]
TypingChannel is streaming from typing
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.6ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:38:38 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
Started GET "/chat" for ::1 at 2025-09-09 17:38:38 -0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (21.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:38:38.469015"], ["is_online", 0], ["id", 2]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:46:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 6.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.2ms)
Completed 200 OK in 35ms (Views: 10.1ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/cable" for ::1 at 2025-09-09 17:38:38 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:38:38 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:38:38 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersChannel is streaming from users
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:38:38.674074"], ["is_online", 1], ["id", 2]]
TypingChannel is streaming from typing
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
Started GET "/cable" for ::1 at 2025-09-09 17:38:38 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:38:38 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is transmitting the subscription confirmation
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
MessagesChannel is streaming from messages
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:38:38.915336"], ["is_online", 1], ["id", 1]]
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is streaming from typing
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan Incognito"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:38:43 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
Started GET "/chat" for ::1 at 2025-09-09 17:38:43 -0300
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:38:43.525300"], ["is_online", 0], ["id", 1]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:46:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:24
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:38:43 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:38:43 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is streaming from typing
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:38:43.595893"], ["is_online", 1], ["id", 1]]
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
UsersChannel is streaming from users
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan Incognito"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan Incognito"]} (via streamed from users)
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:39:36 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (3.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:39:36.499570"], ["is_online", 0], ["id", 1]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.6ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.7ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:46:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:39:38 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:39:38.876134"], ["is_online", 0], ["id", 2]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:42:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:46:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started GET "/" for ::1 at 2025-09-09 17:42:14 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 7.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.2ms)
Completed 200 OK in 46ms (Views: 15.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:42:14 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started GET "/chat" for ::1 at 2025-09-09 17:42:18 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:26
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.4ms)
Completed 200 OK in 53ms (Views: 3.2ms | ActiveRecord: 6.2ms (2 queries, 0 cached) | GC: 30.1ms)


Started GET "/cable" for ::1 at 2025-09-09 17:42:18 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:42:18 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.3ms | GC: 0.2ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:42:18 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:42:19.009138"], ["is_online", 1], ["id", 2]]
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is streaming from typing
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:12:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
Started GET "/" for ::1 at 2025-09-09 17:42:27 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:42:27 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:42:29 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:26
  Rendered messages/chat.html.erb within layouts/application (Duration: 2.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)


Started GET "/cable" for ::1 at 2025-09-09 17:42:29 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:42:29 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:42:29 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
MessagesChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  Rendering pwa/manifest.json.erb
MessagesChannel is streaming from messages
  â†³ app/models/user.rb:11:in `mark_user_online'
  Rendered pwa/manifest.json.erb (Duration: 0.4ms | GC: 0.0ms)
TypingChannel is transmitting the subscription confirmation
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


TypingChannel is streaming from typing
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel is streaming from users
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "is_typing", "created_at", "updated_at", "is_online") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Jonathan"], ["is_typing", 0], ["created_at", "2025-09-09 20:42:29.699568"], ["updated_at", "2025-09-09 20:42:29.699568"], ["is_online", 0]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:42:29.701769"], ["is_online", 1], ["id", 3]]
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
TypingChannel#start_typing({"username"=>"Jonathan"})
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:42:31.486676"], ["id", 3]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"oie :D", "username"=>"Jonathan"})
TypingChannel#stop_typing({"username"=>"Jonathan"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  [1m[36mMessage Create (4.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "oie :D"], ["username", "Jonathan"], ["created_at", "2025-09-09 20:42:33.069447"], ["updated_at", "2025-09-09 20:42:33.069447"]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Update (3.6ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:42:33.076669"], ["id", 3]]
[ActionCable] Broadcasting to messages: {:id=>5, :content=>"oie :D", :username=>"Jonathan", :created_at=>"08:42 PM"}
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
MessagesChannel transmitting {"id"=>5, "content"=>"oie :D", "username"=>"Jonathan", "created_at"=>"08:42 PM"} (via streamed from messages)
  â†³ app/models/user.rb:26:in `mark_user_typing'
MessagesChannel transmitting {"id"=>5, "content"=>"oie :D", "username"=>"Jonathan", "created_at"=>"08:42 PM"} (via streamed from messages)
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Fabricia"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:42:35.995387"], ["id", 2]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Fabricia"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"oi jonathan", "username"=>"Fabricia"})
TypingChannel#stop_typing({"username"=>"Fabricia"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mMessage Create (2.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "oi jonathan"], ["username", "Fabricia"], ["created_at", "2025-09-09 20:42:38.163040"], ["updated_at", "2025-09-09 20:42:38.163040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Update (3.4ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:42:38.167022"], ["id", 2]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:26:in `mark_user_typing'
[ActionCable] Broadcasting to messages: {:id=>6, :content=>"oi jonathan", :username=>"Fabricia", :created_at=>"08:42 PM"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
MessagesChannel transmitting {"id"=>6, "content"=>"oi jonathan", "username"=>"Fabricia", "created_at"=>"08:42 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>6, "content"=>"oi jonathan", "username"=>"Fabricia", "created_at"=>"08:42 PM"} (via streamed from messages)
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started POST "/logout" for ::1 at 2025-09-09 17:42:43 -0300
Processing by MessagesController#logout as */*
  Parameters: {"username"=>"Jonathan", "message"=>{"username"=>"Jonathan"}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_online" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2025-09-09 20:42:43.682074"], ["is_online", 0], ["id", 3]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
Completed 200 OK in 11ms (ActiveRecord: 3.2ms (4 queries, 0 cached) | GC: 0.0ms)


TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:42:43 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started GET "/" for ::1 at 2025-09-09 17:42:43 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:42:43 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-09 20:46:02.639286', '2025-09-09 20:46:02.639287') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMessages (20250909105755)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text NOT NULL, "username" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_created_at" ON "messages" ("created_at")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250909105755') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20250909202649)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "is_online" boolean DEFAULT 0, "is_typing" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_is_online" ON "users" ("is_online")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_is_typing" ON "users" ("is_typing")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250909202649') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/chat" for ::1 at 2025-09-09 17:46:15 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 17.3ms | GC: 8.3ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 10.0ms)
Completed 200 OK in 57ms (Views: 24.3ms | ActiveRecord: 3.9ms (1 query, 0 cached) | GC: 15.8ms)


Started GET "/" for ::1 at 2025-09-09 17:46:16 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:46:16 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.2ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:46:16 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:46:21 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/cable" for ::1 at 2025-09-09 17:46:21 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:46:21 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:46:21 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is transmitting the subscription confirmation
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "is_online", "is_typing", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Jonathan"], ["is_online", 0], ["is_typing", 0], ["created_at", "2025-09-09 20:46:21.762856"], ["updated_at", "2025-09-09 20:46:21.762856"]]
MessagesChannel is streaming from messages
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel is streaming from users
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
TypingChannel is streaming from typing
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 20:46:21.766383"], ["id", 1]]
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jonathan"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan"]} (via streamed from users)
Started GET "/" for ::1 at 2025-09-09 17:46:23 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:46:23 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:46:25 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  Rendered messages/chat.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:46:25 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:46:25 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:46:25 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
TypingChannel is streaming from typing
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "is_online", "is_typing", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Fabricia"], ["is_online", 0], ["is_typing", 0], ["created_at", "2025-09-09 20:46:25.318053"], ["updated_at", "2025-09-09 20:46:25.318053"]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 20:46:25.319393"], ["id", 2]]
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
TypingChannel#start_typing({"username"=>"Fabricia"})
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:46:26.970980"], ["id", 2]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.7ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Fabricia"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"ola fabs", "username"=>"Fabricia"})
TypingChannel#stop_typing({"username"=>"Fabricia"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  [1m[36mMessage Create (5.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "ola fabs"], ["username", "Fabricia"], ["created_at", "2025-09-09 20:46:29.064867"], ["updated_at", "2025-09-09 20:46:29.064867"]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Update (2.9ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:46:29.073985"], ["id", 2]]
[ActionCable] Broadcasting to messages: {:id=>1, :content=>"ola fabs", :username=>"Fabricia", :created_at=>"08:46 PM"}
  â†³ app/models/user.rb:26:in `mark_user_typing'
MessagesChannel transmitting {"id"=>1, "content"=>"ola fabs", "username"=>"Fabricia", "created_at"=>"08:46 PM"} (via streamed from messages)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
MessagesChannel transmitting {"id"=>1, "content"=>"ola fabs", "username"=>"Fabricia", "created_at"=>"08:46 PM"} (via streamed from messages)
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Jonathan"})
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:46:32.514048"], ["id", 1]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"ola jonathan", "username"=>"Jonathan"})
TypingChannel#stop_typing({"username"=>"Jonathan"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mMessage Create (4.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "ola jonathan"], ["username", "Jonathan"], ["created_at", "2025-09-09 20:46:35.743357"], ["updated_at", "2025-09-09 20:46:35.743357"]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Update (5213.7ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:46:35.747131"], ["id", 1]]
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:46:40 -0300
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  â†³ app/models/user.rb:17:in `mark_user_offline'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"TypingChannel\",\"username\":\"Jonathan\"}", "data"=>"{\"username\":\"Jonathan\",\"action\":\"stop_typing\"}"}) [ActiveRecord::StatementInvalid - SQLite3::BusyException: database is locked]: /Users/jonathanbeltrao/.bundle/ruby/3.1.0/gems/sqlite3-2.7.3-arm64-darwin/lib/sqlite3/statement.rb:125:in `step' | /Users/jonathanbeltrao/.bundle/ruby/3.1.0/gems/sqlite3-2.7.3-arm64-darwin/lib/sqlite3/statement.rb:125:in `block in each' | /Users/jonathanbeltrao/.bundle/ruby/3.1.0/gems/sqlite3-2.7.3-arm64-darwin/lib/sqlite3/statement.rb:124:in `loop' | /Users/jonathanbeltrao/.bundle/ruby/3.1.0/gems/sqlite3-2.7.3-arm64-darwin/lib/sqlite3/statement.rb:124:in `each' | /Users/jonathanbeltrao/.bundle/ruby/3.1.0/gems/activerecord-7.2.2.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in `to_a'
[ActionCable] Broadcasting to messages: {:id=>2, :content=>"ola jonathan", :username=>"Jonathan", :created_at=>"08:46 PM"}
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 20:46:40.970751"], ["id", 2]]
MessagesChannel transmitting {"id"=>2, "content"=>"ola jonathan", "username"=>"Jonathan", "created_at"=>"08:46 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>2, "content"=>"ola jonathan", "username"=>"Jonathan", "created_at"=>"08:46 PM"} (via streamed from messages)
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jonathan"]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan"]} (via streamed from users)
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan"]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
Started GET "/cable" for ::1 at 2025-09-09 17:46:40 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:46:41 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersChannel is streaming from users
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 20:46:41.028735"], ["id", 2]]
TypingChannel is streaming from typing
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
UsersChannel#update_activity({"username"=>"Jonathan"})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:47:02 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 20:47:02.667620"], ["id", 2]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
Started GET "/chat" for ::1 at 2025-09-09 17:47:02 -0300
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jonathan"]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan"]} (via streamed from users)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan"]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:26
  Rendered messages/chat.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:47:02 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:47:02 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:47:02 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
MessagesChannel is transmitting the subscription confirmation
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
MessagesChannel is streaming from messages
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is streaming from typing
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 20:47:02.853613"], ["id", 2]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia", "Jonathan"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia", "Jonathan"]} (via streamed from users)
TypingChannel#start_typing({"username"=>"Jonathan"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel#stop_typing({"username"=>"Jonathan"})
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (4.1ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:47:08.430177"], ["id", 1]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Jonathan"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (11.7ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:47:09.258182"], ["id", 1]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (1.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel#stop_typing({"username"=>"Jonathan"})
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:47:11.863841"], ["id", 1]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Jonathan"})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:47:19.606800"], ["id", 1]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"Vou sair, xau", "username"=>"Jonathan"})
TypingChannel#stop_typing({"username"=>"Jonathan"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mMessage Create (3.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "Vou sair, xau"], ["username", "Jonathan"], ["created_at", "2025-09-09 20:47:21.094038"], ["updated_at", "2025-09-09 20:47:21.094038"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:47:21.098198"], ["id", 1]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:26:in `mark_user_typing'
[ActionCable] Broadcasting to messages: {:id=>3, :content=>"Vou sair, xau", :username=>"Jonathan", :created_at=>"08:47 PM"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
MessagesChannel transmitting {"id"=>3, "content"=>"Vou sair, xau", "username"=>"Jonathan", "created_at"=>"08:47 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>3, "content"=>"Vou sair, xau", "username"=>"Jonathan", "created_at"=>"08:47 PM"} (via streamed from messages)
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Jonathan"})
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
TypingChannel#start_typing({"username"=>"Fabricia"})
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:47:24.180413"], ["id", 2]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.8ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Fabricia"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"xau", "username"=>"Fabricia"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
TypingChannel#stop_typing({"username"=>"Fabricia"})
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  [1m[36mMessage Create (3.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "xau"], ["username", "Fabricia"], ["created_at", "2025-09-09 20:47:24.654879"], ["updated_at", "2025-09-09 20:47:24.654879"]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:47:24.662186"], ["id", 2]]
[ActionCable] Broadcasting to messages: {:id=>4, :content=>"xau", :username=>"Fabricia", :created_at=>"08:47 PM"}
  â†³ app/models/user.rb:26:in `mark_user_typing'
MessagesChannel transmitting {"id"=>4, "content"=>"xau", "username"=>"Fabricia", "created_at"=>"08:47 PM"} (via streamed from messages)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
MessagesChannel transmitting {"id"=>4, "content"=>"xau", "username"=>"Fabricia", "created_at"=>"08:47 PM"} (via streamed from messages)
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Fabricia"})
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:47:26.264294"], ["id", 2]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Fabricia"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Fabricia"]} (via streamed from typing)
TypingChannel#stop_typing({"username"=>"Fabricia"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:47:30.841770"], ["id", 2]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (15.0ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Fabricia"})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Started POST "/logout" for ::1 at 2025-09-09 17:47:34 -0300
Processing by MessagesController#logout as */*
  Parameters: {"username"=>"Jonathan", "message"=>{"username"=>"Jonathan"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 20:47:34.080706"], ["id", 1]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
  â†³ app/models/user.rb:39:in `get_typing_users'
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
Completed 200 OK in 9ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.7ms)


TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:47:34 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Fabricia"]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Fabricia"]} (via streamed from users)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started GET "/" for ::1 at 2025-09-09 17:47:34 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:47:34 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/logout" for ::1 at 2025-09-09 17:47:38 -0300
Processing by MessagesController#logout as */*
  Parameters: {"username"=>"Fabricia", "message"=>{"username"=>"Fabricia"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 20:47:38.752692"], ["id", 2]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
Completed 200 OK in 8ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.5ms)


TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:47:38 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
UsersChannel stopped streaming from users
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Fabricia"], ["LIMIT", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started GET "/" for ::1 at 2025-09-09 17:47:38 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 17:47:38 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-09-09 17:50:28 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/chat" for ::1 at 2025-09-09 17:50:31 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:26
  Rendered messages/chat.html.erb within layouts/application (Duration: 4.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.3ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.3ms)


Started GET "/cable" for ::1 at 2025-09-09 17:50:31 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:50:31 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersChannel is streaming from users
  â†³ app/models/user.rb:11:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
TypingChannel is streaming from typing
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "is_online", "is_typing", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Jonathan Incognito"], ["is_online", 0], ["is_typing", 0], ["created_at", "2025-09-09 20:50:31.690650"], ["updated_at", "2025-09-09 20:50:31.690650"]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 20:50:31.692489"], ["id", 3]]
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jonathan Incognito"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan Incognito"]} (via streamed from users)
Started GET "/chat" for ::1 at 2025-09-09 17:50:44 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:25
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:26
  Rendered messages/chat.html.erb within layouts/application (Duration: 2.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.2ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/cable" for ::1 at 2025-09-09 17:50:44 -0300
Started GET "/manifest.json" for ::1 at 2025-09-09 17:50:44 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:50:44 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
TypingChannel is streaming from typing
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "is_online", "is_typing", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Testing"], ["is_online", 0], ["is_typing", 0], ["created_at", "2025-09-09 20:50:44.273433"], ["updated_at", "2025-09-09 20:50:44.273433"]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 20:50:44.275337"], ["id", 4]]
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jonathan Incognito", "Testing"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan Incognito", "Testing"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jonathan Incognito", "Testing"]} (via streamed from users)
TypingChannel#start_typing({"username"=>"Testing"})
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:50:46.124455"], ["id", 4]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Testing"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Testing"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Testing"]} (via streamed from typing)
MessagesChannel#speak({"message"=>"ola", "username"=>"Testing"})
TypingChannel#stop_typing({"username"=>"Testing"})
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mMessage Create (3.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "ola"], ["username", "Testing"], ["created_at", "2025-09-09 20:50:46.525515"], ["updated_at", "2025-09-09 20:50:46.525515"]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Update (2.9ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:50:46.528872"], ["id", 4]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  â†³ app/models/user.rb:26:in `mark_user_typing'
[ActionCable] Broadcasting to messages: {:id=>5, :content=>"ola", :username=>"Testing", :created_at=>"08:50 PM"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
MessagesChannel transmitting {"id"=>5, "content"=>"ola", "username"=>"Testing", "created_at"=>"08:50 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>5, "content"=>"ola", "username"=>"Testing", "created_at"=>"08:50 PM"} (via streamed from messages)
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:50:54.536346"], ["id", 3]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan Incognito"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
TypingChannel#stop_typing({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:50:56.851326"], ["id", 3]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:51:01.106652"], ["id", 3]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan Incognito"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
TypingChannel#stop_typing({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:51:03.848212"], ["id", 3]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel#start_typing({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 20:51:06.560261"], ["id", 3]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jonathan Incognito"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jonathan Incognito"]} (via streamed from typing)
TypingChannel#stop_typing({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 20:51:08.846351"], ["id", 3]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Jonathan Incognito"})
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Started POST "/logout" for ::1 at 2025-09-09 17:52:05 -0300
Processing by MessagesController#logout as */*
  Parameters: {"username"=>"Jonathan Incognito", "message"=>{"username"=>"Jonathan Incognito"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 20:52:06.025739"], ["id", 3]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Testing"]}
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Testing"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Testing"]} (via streamed from users)
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
Completed 200 OK in 9ms (ActiveRecord: 2.2ms (4 queries, 0 cached) | GC: 0.6ms)


TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 17:52:06 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Testing"]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Testing"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Testing"]} (via streamed from users)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jonathan Incognito"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started GET "/" for ::1 at 2025-09-09 17:52:06 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Started GET "/" for ::1 at 2025-09-09 17:52:41 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started GET "/" for ::1 at 2025-09-09 17:52:42 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 17:52:53 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 17:52:53 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MessagesChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
MessagesChannel is streaming from messages
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersChannel is streaming from users
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
TypingChannel is streaming from typing
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Testing"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Testing"]} (via streamed from users)
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Started GET "/" for ::1 at 2025-09-09 18:00:07 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.2ms)
Completed 200 OK in 25ms (Views: 8.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/chat" for ::1 at 2025-09-09 18:00:09 -0300
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:27
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:28
  Rendered messages/chat.html.erb within layouts/application (Duration: 3.2ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.4ms)
Completed 200 OK in 56ms (Views: 3.2ms | ActiveRecord: 5.2ms (2 queries, 0 cached) | GC: 29.7ms)


Started GET "/cable" for ::1 at 2025-09-09 18:00:10 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 18:00:10 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "is_online", "is_typing", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "Jones"], ["is_online", 0], ["is_typing", 0], ["created_at", "2025-09-09 21:00:10.172518"], ["updated_at", "2025-09-09 21:00:10.172518"]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:11:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
TypingChannel is streaming from typing
  â†³ app/models/user.rb:11:in `mark_user_online'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 21:00:10.176040"], ["id", 5]]
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jones", "Testing"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones", "Testing"]} (via streamed from users)
Started GET "/cable" for ::1 at 2025-09-09 18:00:12 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 18:00:12 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
UsersChannel is streaming from users
  â†³ app/models/user.rb:35:in `get_online_users'
TypingChannel is transmitting the subscription confirmation
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jones", "Testing"]}
TypingChannel is streaming from typing
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones", "Testing"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones", "Testing"]} (via streamed from users)
UsersChannel#update_activity({"username"=>"Testing"})
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
TypingChannel#start_typing({"username"=>"Jones"})
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 1], ["updated_at", "2025-09-09 21:00:16.458484"], ["id", 5]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.6ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>["Jones"]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jones"]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>["Jones"]} (via streamed from typing)
TypingChannel#stop_typing({"username"=>"Jones"})
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:25:in `mark_user_typing'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "is_typing" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_typing", 0], ["updated_at", "2025-09-09 21:00:18.849901"], ["id", 5]]
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:26:in `mark_user_typing'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
MessagesChannel#speak({"message"=>"ola", "username"=>"Jones"})
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mMessage Create (2.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["content", "ola"], ["username", "Jones"], ["created_at", "2025-09-09 21:00:20.083204"], ["updated_at", "2025-09-09 21:00:20.083204"]]
  â†³ app/channels/messages_channel.rb:11:in `speak'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/messages_channel.rb:11:in `speak'
[ActionCable] Broadcasting to messages: {:id=>6, :content=>"ola", :username=>"Jones", :created_at=>"09:00 PM"}
MessagesChannel transmitting {"id"=>6, "content"=>"ola", "username"=>"Jones", "created_at"=>"09:00 PM"} (via streamed from messages)
MessagesChannel transmitting {"id"=>6, "content"=>"ola", "username"=>"Jones", "created_at"=>"09:00 PM"} (via streamed from messages)
Started POST "/logout" for ::1 at 2025-09-09 18:00:29 -0300
Processing by MessagesController#logout as */*
  Parameters: {"username"=>"Testing", "message"=>{"username"=>"Testing"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 21:00:29.789692"], ["id", 4]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jones"]}
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones"]} (via streamed from users)
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
Completed 200 OK in 10ms (ActiveRecord: 2.5ms (4 queries, 0 cached) | GC: 0.0ms)


TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 18:00:29 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jones"]}
UsersChannel stopped streaming from users
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Testing"], ["LIMIT", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones"]} (via streamed from users)
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones"]} (via streamed from users)
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.4ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started GET "/" for ::1 at 2025-09-09 18:00:29 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 18:00:29 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-09-09 18:00:31 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 18:00:31 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


UsersChannel#update_activity({"username"=>"Jones"})
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `mark_user_online'
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 18:00:51 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
Started GET "/chat" for ::1 at 2025-09-09 18:00:51 -0300
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 21:00:51.565247"], ["id", 5]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
UsersChannel stopped streaming from users
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:27
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:28
  Rendered messages/chat.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 1.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for ::1 at 2025-09-09 18:00:51 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 18:00:51 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
TypingChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is streaming from typing
UsersChannel is streaming from users
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 21:00:51.980002"], ["id", 5]]
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jones"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones"]} (via streamed from users)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 18:00:57 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 21:00:57.567140"], ["id", 5]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
Started GET "/chat" for ::1 at 2025-09-09 18:00:57 -0300
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.5ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Processing by MessagesController#chat as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/chat.html.erb within layouts/application
  [1m[36mMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/views/messages/chat.html.erb:27
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" ORDER BY "messages"."created_at" ASC LIMIT ?[0m  [["LIMIT", 50]]
  â†³ app/views/messages/chat.html.erb:28
  Rendered messages/chat.html.erb within layouts/application (Duration: 1.9ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.1ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 1.7ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/cable" for ::1 at 2025-09-09 18:00:57 -0300
Started GET "/cable" [WebSocket] for ::1 at 2025-09-09 18:00:57 -0300
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/models/user.rb:11:in `mark_user_online'
MessagesChannel is streaming from messages
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersChannel is streaming from users
  â†³ app/models/user.rb:12:in `mark_user_online'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2025-09-09 21:00:57.961925"], ["id", 5]]
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is transmitting the subscription confirmation
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:12:in `mark_user_online'
TypingChannel is streaming from typing
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>["Jones"]}
UsersChannel is transmitting the subscription confirmation
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>["Jones"]} (via streamed from users)
Started GET "/" for ::1 at 2025-09-09 18:01:08 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/manifest.json" for ::1 at 2025-09-09 18:01:08 -0300
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/logout" for ::1 at 2025-09-09 18:01:14 -0300
Processing by MessagesController#logout as */*
  Parameters: {"username"=>"Jones", "message"=>{"username"=>"Jones"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2025-09-09 21:01:14.107838"], ["id", 5]]
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:19:in `mark_user_offline'
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
  [1m[36mUser Pluck (0.1ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
Completed 200 OK in 9ms (ActiveRecord: 1.9ms (4 queries, 0 cached) | GC: 0.9ms)


TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Finished "/cable" [WebSocket] for ::1 at 2025-09-09 18:01:14 -0300
MessagesChannel stopped streaming from messages
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/models/user.rb:17:in `mark_user_offline'
  [1m[36mUser Pluck (0.2ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1]]
  â†³ app/models/user.rb:35:in `get_online_users'
[ActionCable] Broadcasting to users: {:action=>"users_list_updated", :users=>[]}
UsersChannel stopped streaming from users
UsersChannel transmitting {"action"=>"users_list_updated", "users"=>[]} (via streamed from users)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Jones"], ["LIMIT", 1]]
  â†³ app/channels/typing_channel.rb:9:in `unsubscribed'
  [1m[36mUser Pluck (0.3ms)[0m  [1m[34mSELECT "users"."username" FROM "users" WHERE "users"."is_online" = ? AND "users"."is_typing" = ? ORDER BY "users"."username" ASC[0m  [["is_online", 1], ["is_typing", 1]]
  â†³ app/models/user.rb:39:in `get_typing_users'
[ActionCable] Broadcasting to typing: {:action=>"typing_list_updated", :typing_users=>[]}
TypingChannel stopped streaming from typing
TypingChannel transmitting {"action"=>"typing_list_updated", "typing_users"=>[]} (via streamed from typing)
Started GET "/" for ::1 at 2025-09-09 18:01:14 -0300
Processing by MessagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering messages/index.html.erb within layouts/application
  Rendered messages/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


